//-----------------------------------------------
//  内容：歯車描画
//  File : gear.h
//  制作者：木崎　翔
//-----------------------------------------------
//------------------------------------
// 二重インクルード防止
//------------------------------------
#ifndef _GOAL_H_
#define _GOAL_H_

//-----------------------------------------------
//  インクルードファイル
//-----------------------------------------------
#include "main.h"
#include "collision.h"

//------ マクロ定義 ------
#define GOAL_MAX ( 100 )

//===============================================
//
// 構造体定義
//
//===============================================
typedef struct
{
	D3DXVECTOR3 pos;	
	D3DXVECTOR3 rot;	
	D3DXVECTOR3 scl;	
	
	D3DXVECTOR3 move;	

	D3DXMATRIX mtxWorld;			// ワールドマトリックス
	LPD3DXMESH pMeshModel;			// メッシュ情報へのポインタ
	LPD3DXBUFFER pBuffMatModel;		// マテリアル情報へのポインタ
	DWORD numMatModel;				// マテリアルの数
	LPDIRECT3DTEXTURE9	pTexture; 		// テクスチャへのポインタ

	COL_RECT rect;

	bool bRotation;

	bool bUse;
}GOAL;

//-----------------------------------------------
//  関数プロトタイプ宣言
//-----------------------------------------------

//-----------------------------------------------
// 歯車描画初期化
//-----------------------------------------------
void InitGoal( void );

//-----------------------------------------------
// 歯車描画終了処理
//-----------------------------------------------
void UninitGoal( void );

//-----------------------------------------------
// 歯車描画更新処理
//-----------------------------------------------
void UpdateGoal( void );

//-----------------------------------------------
// 歯車描画描画処理
//-----------------------------------------------
void DrawGoal( void );

//-----------------------------------------------
// 歯車セット
//-----------------------------------------------
int SetGoal( D3DXVECTOR3 pos );

//-----------------------------------------------
// エディット更新
//-----------------------------------------------
void EditGoal( void );

//-----------------------------------------------
// 当たり判定の取得
//-----------------------------------------------
GOAL *GetGoal( void );

//-----------------------------------------------
// 回転させる判定セット
//-----------------------------------------------
void SetGoalRotation( int num, bool use );

//-----------------------------------------------
// 回転させる判定の取得
//-----------------------------------------------
bool GetGoalRotation( int num );

//-----------------------------------------------
// 角度直し
//-----------------------------------------------
void ZeroGoalRotation( void );

#endif